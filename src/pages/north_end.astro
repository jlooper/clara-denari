---
import Layout from '../layouts/Layout.astro';
import Page from '../components/Page.astro';
import GameAction from '../components/GameAction.vue';
import GameLayout from '../components/GameLayout.astro';
import Typewriter from '../components/Typewriter.astro';
import NotificationPanel from '../components/NotificationPanel.astro';

const title = "In the North End";
const backdrop = "https://res.cloudinary.com/dr60nybtj/image/upload/v1756943680/cd_2.png";

const storyText = `There was no sign of the old molasses tank now, so many years later, but the gathering darkness of the night still revealed abandoned swingsets in the park where the former factory stood.<br/><br/>
Her foot tapping against an abandoned bocce ball, Clara looked down and saw a piece of paper sticking out of the ground. It was damp and crumpled, but looked like a wax wrapper of some kind.`;
---

<Layout title={title} backdrop={backdrop} fullScreenLayout={true}>
    <div class="prose max-w-none">
      <!-- Main content area with image and inventory side by side -->
      <GameLayout title={title} backdrop={backdrop} />
      
      <!-- Full width storyline -->
      <div class="w-full mb-6">
        <h1 class="text-3xl font-bold text-green-500 mb-4" style="text-shadow: 0 0 5px rgba(0, 255, 0, 0.5);">
          {title}
        </h1>
        
        <div class="bg-black bg-opacity-50 border-2 border-amber-500 rounded-lg p-6 mb-6">
          <Typewriter 
            text={storyText}
            speed={30}
            delay={1000}
            class="block mb-4 text-amber-500 text-lg leading-relaxed"
          />
        </div>
      </div>
      
      <!-- Notification Panel -->
      <NotificationPanel />
      
      <!-- Full width items and buttons -->
      <div class="w-full">
        <div class="flex flex-col sm:flex-row gap-4 justify-center mb-6">
          
           <!-- Inventory item -->
        <!-- Text-only action -->
        <GameAction 
          id="recycle" 
          actionType="text" 
          customText="Toss the wax wrapper in the recycling bin"
          customResult="Laudable, but you may have just thrown away a clue."
          client:load 
        />
        <GameAction id="2" actionType="item" client:load />
        
       
          <Page 
            url="lab_2" 
            action="Go to the lab" 
            condition="1"
            resultText="Off you go!"
          />
          
         
        </div>
      </div>
    </div>
  </Layout> 