---
import Layout from '../layouts/Layout.astro';
import { translations } from '../i18n/translations.js';

const title = 'page.about';
---

<Layout title={title} fullScreenLayout={true}>
  <div class="prose max-w-none">
    
    <div class="w-full mb-6">
      <h2 id="page-title" class="text-2xl font-bold text-blue-400 mb-4 shadow-lg" data-page-key="about">
        About
      </h2>
      
      <div class="bg-black bg-opacity-50 border-2 border-blue-500 rounded-lg p-6 mb-6">
        <div class="text-gray-100 text-lg leading-relaxed" style="text-shadow: 0 0 3px rgba(0, 255, 0, 0.5);" id="about-content" data-translation-key="about.content">
            The images in this game were generated by ChatGPT. Each backdrop image uses the `fl_c2pa` 
            transformation to help trace provenance using the C2PA standard. Learn more about C2PA <a href="https://c2pa.org" target="_blank">here</a>.
        </div>
        
       
      </div>
    </div> 
  
  </div>
</Layout>

<script define:vars={{ translations }}>
  document.addEventListener('DOMContentLoaded', () => {
    function getCurrentLanguage() {
      return localStorage.getItem('preferred-language') || 'en';
    }

    function getTranslation(key) {
      const currentLang = getCurrentLanguage();
      const fallbackLang = currentLang === 'pt-br' ? 'en' : currentLang;
      return translations[key]?.[fallbackLang] || translations[key]?.en || key;
    }

    function updateAllText() {
      // Update page title
      const titleElement = document.getElementById('page-title');
      if (titleElement) {
        const text = getTranslation('page.about');
        titleElement.textContent = text;
      }

      // Update all elements with data-translation-key
      const elements = document.querySelectorAll('[data-translation-key]');
      elements.forEach(element => {
        const key = element.getAttribute('data-translation-key');
        if (key) {
          const text = getTranslation(key);
          element.innerHTML = text; // Use innerHTML to preserve HTML links
        }
      });
    }

    // Initial load
    updateAllText();

    // Listen for language changes
    window.addEventListener('language-changed', updateAllText);
    document.addEventListener('language-changed', updateAllText);
  });
</script> 