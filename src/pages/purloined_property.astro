---
import Layout from '../layouts/Layout.astro';
import Page from '../components/Page.astro';
import GameAction from '../components/GameAction.vue';
import GameLayout from '../components/GameLayout.astro';
import Typewriter from '../components/Typewriter.astro';
import NotificationPanel from '../components/NotificationPanel.astro';

const title = "Purloined Property";
const backdrop = "https://res.cloudinary.com/dr60nybtj/image/upload/fl_c2pa/v1756943680/cd_doorway.png";

// Story text is now handled by translations
---

<Layout title={title} backdrop={backdrop} fullScreenLayout={true}>
  <div class="prose max-w-none">
    <!-- Main content area with image and inventory side by side -->
    <GameLayout title={title} backdrop={backdrop} />
    
    <!-- Full width storyline -->
    <div class="w-full mb-6">
      <h2 class="text-2xl font-bold text-blue-400 mb-4 shadow-lg">
        {title}
      </h2>
      
      <div class="bg-black bg-opacity-50 border-2 border-blue-500 rounded-lg p-6 mb-6">
        <Typewriter 
          translationKey="story.purloined_property"
          speed={30}
          delay={1000}
          class="block mb-4 text-gray-100 text-lg leading-relaxed"
        />
      </div>
    </div>
    
    <!-- Notification Panel -->
    <NotificationPanel />
    
    <!-- Full width items and buttons -->
    <div class="w-full">
      <div class="flex flex-col sm:flex-row gap-4 justify-center mb-6">
        <!-- Inventory item -->
        <GameAction id="1" actionType="item" client:load />
        
        <!-- Text-only action -->
        <GameAction 
          id="ask_reward" 
          actionType="text" 
          customText="Ask about reward money"
          customResult="The Director rolls his eyes as the wealthy lady clutches her purse tighter. &quot;We will discuss compensation after the case is solved,&quot; he says sternly."
          client:load
        />
      </div>
      
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <!-- Button with result text before navigation -->
        <Page 
          url="lab_1" 
          action="Head to the Lab" 
          condition="1"
          resultText="Time to do some transformation magic!"
        />
        
       
      </div>
    </div>
  </div>
</Layout> 